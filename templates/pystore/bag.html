{% extends 'pystore/base.html' %}
{% load static %}
{% block content %}
<section class="banner">
    <img src = "{% static 'media/banner/banner.jpg' %}" alt="banner">
</section>

<body>
    <div class="grafismo-azul"></div>
    <section class="adicionar-produto">
      <h1 class="produtos"><span class="texto-azul">Bag</span></h1>
      <form class="formulario">

          <section class="botoes-wrapper">
            <button onclick="adicionar()" type="button" class="botao-form botao-adicionar">To add</button>
            <button onclick="limpar()" type="button" class="botao-form botao-limpar">To clean</button>
          </section>
        </section>
      </form>
    </section>
    <section class="carrinho">
      <img src="" alt="Imagem de um carrinho de compras cinza">

      <div class="titulo-wrapper">
        <img src="" alt="ícone de carrinho">

        <h2 class="carrinho__titulo">Products in the bag</h2>
      </div>

      <section class="carrinho__produtos" id="lista-produtos">
        {% for item in bag_items %}
        <section class="carrinho__produtos__produto">
            <span class="texto-azul">Name: {{ item.product.title }}</span>
            <span class="texto-azul">Quantity: {{ item.quantity }}</span>
            <span class="texto-azul">Price: €{{ item.total_price|floatformat:2 }}</span>
        </section>
        {% empty %}
        <p>Your bag is empty.</p>
        {% endfor %}
      </section>

      <div class="divisoria"></div>

      <p class="carrinho__total">
        Total: <span class="texto-azul" id="valor-total">{{ total_price|floatformat:2 }}</span>
      </p>
      <a href="{% url 'clear_bag' %}">
      <button class="btn btn-danger" onclick="return confirm('Are you sure you want to clear your bag?');">Clear Bag</button>
      </a>
    </section>
</body>
{% endblock%}